var IE;var maps_by_page=20;var count_add=0;var compt_fx=0;function fxgo(){if($$("body").getStyle("background-color")=="#d2d1d0"){$$("body").setStyle("background-color","rgb(126,126,126)")}else{$$("body").setStyle("background-color","#d2d1d0")}compt_fx++;if(compt_fx<5){setTimeout("fxgo()",125)}}window.addEvent("domready",function(){if(navigator.userAgent.indexOf("MSIE 8")!=-1){IE=true}if(navigator.userAgent.indexOf("MSIE 7")!=-1){IE=true}else{if(navigator.userAgent.indexOf("MSIE 6")!=-1){IE=true}else{if(navigator.userAgent.indexOf("Firefox/2")!=-1){FIREFOX2=true}else{if(navigator.userAgent.indexOf("Firefox")!=-1){FIREFOX=true}else{if(navigator.userAgent.indexOf("Netscape/7")!=-1){NETSCAPE7=true}else{if(navigator.userAgent.indexOf("Netscape")!=-1){NETSCAPE=true}else{if(navigator.userAgent.indexOf("Opera/9")!=-1){OPERA9=true}else{if(navigator.userAgent.indexOf("Opera")!=-1){OPERA=true}else{AUTRE=true}}}}}}}}if($("plug_ff")){$("plug_ff").addEvent("click",function(){$("help_ext").setStyles({opacity:"0",display:"block"});$("help_ext").fade("in")});$("help_ext_close").addEvent("click",function(a){a.stop();$("help_ext").fade("out")})}if($("packs_sauve")){$("packs_sauve").addEvent("click",function(b){b.stop();if($("packs_name").value!=""){var a=new Request({method:"post",url:"http://www.progamemap.com/include/model/setup_panier.php",data:{game:$("actif_game").value,sav:"1",name:$("packs_name").value,pub:$("packs_type").checked,sa:$("sa").value},onRequest:function(){},onComplete:function(c){if(c.match(" !")){alert(c)}else{$("s_packs").innerHTML=c}}}).send()}})}if($("go_search")){$("go_search").addEvent("click",function(b){b.stop();var a=$("search_link").value;if($("search").value!=""){var c=$("search").value;window.location.replace(a+"search/"+c+"/")}else{window.location.replace(a)}})}if($("types_filtre")){$("types_filtre").addEvent("click",function(){link=$("link_t").value+"type/";i=1;and=0;no_check=0;$$("input.t_f").each(function(a){if(a.checked){if(i==1){link+=a.id;if(a.id=="and"){and=1}}else{link+="_"+a.id;and=0}i=i+1}else{no_check=no_check+1}});window.location.replace(link)})}$$("div.p_add").each(function(a){a.addEvent("click",function(c){c.stop();a.removeEvent("click");$(a.id).setStyle("display","none");var b=new Request({method:"post",url:"http://www.progamemap.com/include/model/setup_panier.php",data:{game:$("actif_game").value,add:a.id,sa:$("sa").value},onRequest:function(){},onComplete:function(f){if(f.match(":OK:")){var e=f.split(":");$("m_"+a.id).setStyle("opacity","0");var d=new Fx.Morph("m_"+a.id,{duration:"400"});d.start({width:"0px"}).chain(function(){$("m_"+a.id).setStyle("display","none");$("cart_nb").innerHTML="("+e[2]+")"});count_add++;if(count_add==maps_by_page){window.location.reload(false)}}else{$(a.id).setStyle("display","block")}}}).send()})});$$("div.p_add_f").each(function(a){a.addEvent("click",function(c){c.stop();if($(a.id).getStyle("color")!="gray"){$(a.id).setStyle("color","gray");var b=new Request({method:"post",url:"http://www.progamemap.com/include/model/setup_panier.php",data:{game:$("actif_game").value,add:a.id,sa:$("sa").value},onComplete:function(e){if(e.match(":OK:")){var d=e.split(":");$("cart_nb").innerHTML="("+d[2]+")";$("cart").highlight("#98c163")}else{$(a.id).setStyle("color","white")}}}).send()}})});if($("del_all")){$("del_all").addEvent("click",function(b){b.stop();var a=new Request({method:"post",url:"http://www.progamemap.com/include/model/setup_panier.php",data:{game:$("actif_game").value,del:"all",sa:$("sa").value},onRequest:function(){},onComplete:function(c){if(c.match(":OK:")){window.location.reload(false)}}}).send()})}$$("div.p_del").each(function(a){a.addEvent("click",function(c){c.stop();a.removeEvent("click");$(a.id).setStyle("display","none");var b=new Request({method:"post",url:"http://www.progamemap.com/include/model/setup_panier.php",data:{game:$("actif_game").value,del:a.id,sa:$("sa").value},onComplete:function(f){if(f.match(":OK:")){var d=f.split(":");$("m_"+a.id).setStyle("opacity","0");if(d[2]=="0"){window.location.reload(false)}else{var e=new Fx.Morph("m_"+a.id,{duration:"400"});e.start({width:"0px"}).chain(function(){$("m_"+a.id).setStyle("display","none");$("cart_nb").innerHTML="("+d[2]+")";$("cart").highlight("#FFB9B9")})}}else{$(a.id).setStyle("display","block")}}}).send()})});$$("div.fav_c").each(function(a){a.addEvent("mouseover",function(){var b=a.getStyle("background");var c=new RegExp("-16px","g");if(c.test(b)){a.setStyle("background",b.replace(c,"-1px"))}});a.addEvent("mouseout",function(){var f=a.id.split("fav_");var e=$("fav_val_"+f[1]).value;var b=a.getStyle("background");var d=new RegExp("-16px","g");if(e==1){a.setStyle("background",b.replace(d,"-1px"))}else{var c=new RegExp("-1px","g");if(c.test(b)){a.setStyle("background",b.replace(c,"-16px"))}}});a.addEvent("click",function(){var e="";var h=a.id.split("fav_");var g=$("fav_val_"+h[1]).value;var b=a.getStyle("background");var d=new RegExp("-16px","g");if(g==1){e="del";$("fav_val_"+h[1]).value=0;var c=new RegExp("-1px","g");if(c.test(b)){a.setStyle("background",b.replace(c,"-16px"))}var f=new Request({method:"post",url:"http://www.progamemap.com/include/model/setup_panier.php",data:{game:$("actif_game").value,fav:"1",del:h[1],sa:$("sa").value},onComplete:function(k){if(k.match("Please Login !")){alert(k)}else{if($("page_actif").value=="favorites"){$("m_"+h[1]).setStyle("opacity","0");var j=new Fx.Morph("m_"+h[1],{duration:"400"});j.start({width:"0px"}).chain(function(){$("m_"+h[1]).setStyle("display","none")})}}}}).send()}else{var f=new Request({method:"post",url:"http://www.progamemap.com/include/model/setup_panier.php",data:{game:$("actif_game").value,fav:"1",add:h[1],sa:$("sa").value},onComplete:function(j){if(j.match("Please Login !")){alert(j)}else{e="add";$("fav_val_"+h[1]).value=1;a.setStyle("background",b.replace(d,"-1px"))}}}).send()}})});$$("img.n_etoile").each(function(a){a.addEvent("mouseover",function(){var b=a.id.split("_");if($(b[0]+"_NOVOTE").value!="1"){for(i=1;i<=5;i++){if(i<=b[1]){$(b[0]+"_"+i).src="http://www.progamemap.com/public/images/Etoile_ON.png"}else{$(b[0]+"_"+i).src="http://www.progamemap.com/public/images/Etoile_OFF.png"}}}});a.addEvent("click",function(){var d=a.id.split("_");if($(d[0]+"_NOVOTE").value!="1"){var b=0;if($("actif_pack")){b=1}var c=new Request({method:"post",url:"http://www.progamemap.com/include/model/setup_panier.php",data:{game:$("actif_game").value,note:d[1],add:d[0],sa:$("sa").value,pack:b},onComplete:function(f){sbox_view(f);if(f.match("Please Login !")){alert(f);a.disabled=false}else{if(f.match(":OK:")){$(d[0]+"_NOVOTE").value="1";$(d[0]+"_NB").value++;$(d[0]+"_VAL").value=parseInt($(d[0]+"_VAL").value)+parseInt(d[1]);var e=Math.round(parseInt($(d[0]+"_VAL").value)/parseInt($(d[0]+"_NB").value));for(i=1;i<=5;i++){if(i<=e){$(d[0]+"_"+i).src="http://www.progamemap.com/public/images/Etoile_ON.png"}else{$(d[0]+"_"+i).src="http://www.progamemap.com/public/images/Etoile_OFF.png"}}if($(d[0]+"_NB").value>1){$(d[0]+"_V").innerHTML=$(d[0]+"_NB").value+" Votes"}else{$(d[0]+"_V").innerHTML=$(d[0]+"_NB").value+" Vote"}}}}}).send()}})});$$("div.g_etoile").each(function(a){a.addEvent("mouseout",function(){var c=a.id.split("_");if($(c[0]+"_NOVOTE").value!="1"){var b=Math.round(parseInt($(c[0]+"_VAL").value)/parseInt($(c[0]+"_NB").value));for(i=1;i<=5;i++){if(i<=b){$(c[0]+"_"+i).src="http://www.progamemap.com/public/images/Etoile_ON.png"}else{$(c[0]+"_"+i).src="http://www.progamemap.com/public/images/Etoile_OFF.png"}}}})});$$("div.maps").each(function(a){a.addEvent("mouseover",function(){$("img_map").src=a.id})})});function s_pack(a){if(a!=""){var b=new Request({method:"post",url:"http://www.progamemap.com/include/model/setup_panier.php",data:{game:$("actif_game").value,val:"1",pack:a,sa:$("sa").value},onComplete:function(c){if(c.match("setup.exe")){window.location.href="http://www.progamemap.com/"+c}}}).send()}}function d_pack(a){if(a!=""){if(confirm("Etes vous sur de vouloir supprimer ce pack ?")){var b=new Request({method:"post",url:"http://www.progamemap.com/include/model/setup_panier.php",data:{game:$("actif_game").value,del:"pack",pack:a,sa:$("sa").value},onComplete:function(c){if(c.match(":OK:")){window.location.reload(false)}}}).send()}}}function ext_ff(){$("p_check").setStyle("display","none");$("box_setup").setStyle("display","block")}var dotNETRuntimeVersion="3.5.0.0";function check_net(a){if(HasRuntimeVersion(dotNETRuntimeVersion)){$("p_check").setStyle("display","none");$("box_setup").setStyle("display","block")}}function HasRuntimeVersion(c){var b=navigator.userAgent.match(/.NET CLR [0-9.]+/g);if(b!=null){var a;for(a=0;a<b.length;++a){if(CompareVersions(GetVersion(c),GetVersion(b[a]))<=0){return true}}}return false}function GetVersion(a){var b=a.match(/([0-9]+)\.([0-9]+)\.([0-9]+)/i);return b.slice(1)}function CompareVersions(b,d){for(i=0;i<b.length;++i){var c=new Number(b[i]);var a=new Number(d[i]);if(c<a){return -1}if(c>a){return 1}}return 0};